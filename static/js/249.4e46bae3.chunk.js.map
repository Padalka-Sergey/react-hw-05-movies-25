{"version":3,"file":"static/js/249.4e46bae3.chunk.js","mappings":"uNACA,EAAqB,4B,SCERA,EAAkB,SAAHC,GAAiC,IAA3BC,EAAKD,EAALC,MAAOC,EAAYF,EAAZE,aACvC,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAOC,UACpBH,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAE,GAAAC,OAAKR,EAAMS,IAAMC,MAAOT,EAAaI,SAC1CL,EAAMW,kBAIf,E,QCVA,EAAuB,qBAAvB,EAAyD,2BAAzD,EAAgG,0BC4DhG,EAtDe,WACb,IAAAC,GAAsCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAClCI,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAL,EAAAA,EAAAA,GAAAG,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAC9BG,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHJ,IAILK,EAAAA,EAAAA,IAAeL,GACZM,MAAK,SAAAC,GACJb,EAAea,EAAIC,QACrB,IACCC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,EAAI,GACpC,GAAG,CAACV,IAUJ,OACEa,EAAAA,EAAAA,MAAA,QAAA/B,SAAA,EACE+B,EAAAA,EAAAA,MAAA,QAAMjC,UAAWC,EAAUiC,SAVV,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cAEfnB,EAAgB,CAAEC,MAAOiB,EAAKE,SAASC,MAAMC,QAC7CJ,EAAKK,OACP,EAIsDxC,SAAA,EAChDH,EAAAA,EAAAA,KAAA,SAAO4C,KAAK,OAAOC,KAAK,QAAQC,KAAM,MACtC9C,EAAAA,EAAAA,KAAA,UAAQ4C,KAAK,SAAQzC,SAAC,eAEtBW,GAAyB,KAAVO,IACfrB,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAcC,SAAC,2BAEN,KAAb,OAAXW,QAAW,IAAXA,OAAW,EAAXA,EAAaiC,UACZ/C,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAAcC,SAAC,sCAE7BW,GAAeO,IAASrB,EAAAA,EAAAA,KAACgD,EAAAA,EAAM,IAChClC,IACCd,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAeC,SAC3BW,EAAYmC,KAAI,SAAAnD,GAAK,OACpBE,EAAAA,EAAAA,KAACJ,EAAe,CAEdE,MAAOA,EACPC,aAAc,CAAEmD,KAAM3B,IAFjBzB,EAAMS,GAGX,QAMd,C,sJC3DA,IAAM4C,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gQAIOC,EAAsB,WACjC,OAAOC,MACL,iEACAN,GACAxB,MAAK,SAAAC,GAAG,OAAIA,EAAI8B,MAAM,GAC1B,EAEaC,EAAe,SAAAC,GAC1B,OAAOH,MAAM,sCAADnD,OAC4BsD,EAAO,mBAC7CT,GACAxB,MAAK,SAAAC,GAAG,OAAIA,EAAI8B,MAAM,GAC1B,EAEaG,EAAe,SAAAD,GAC1B,OAAOH,MAAM,sCAADnD,OAC4BsD,EAAO,2BAC7CT,GACAxB,MAAK,SAAAC,GAAG,OAAIA,EAAI8B,MAAM,GAC1B,EAEaI,EAAkB,SAAAF,GAC7B,OAAOH,MAAM,sCAADnD,OAC4BsD,EAAO,kCAC7CT,GACAxB,MAAK,SAAAC,GAAG,OAAIA,EAAI8B,MAAM,GAC1B,EAEahC,EAAiB,SAAAZ,GAC5B,OAAO2C,MAAM,mDAADnD,OACyCQ,EAAW,8CAC9DqC,GACAxB,MAAK,SAAAC,GAAG,OAAIA,EAAI8B,MAAM,GAC1B,C","sources":["webpack://react-hw-05-movies-25/./src/components/LinkSearchMovie/LinkSearchMovie.module.css?6aba","components/LinkSearchMovie/LinkSearchMovie.jsx","webpack://react-hw-05-movies-25/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/fetch-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"li\":\"LinkSearchMovie_li__7y92m\"};","import { Link } from 'react-router-dom';\nimport css from './LinkSearchMovie.module.css';\n\nexport const LinkSearchMovie = ({ movie, stateFromLoc }) => {\n  return (\n    <li className={css.li}>\n      <Link to={`${movie.id}`} state={stateFromLoc}>\n        {movie.original_title}\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"moviesList\":\"Movies_moviesList__lstJL\",\"errorText\":\"Movies_errorText__dj953\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport { LinkSearchMovie } from 'components/LinkSearchMovie/LinkSearchMovie';\nimport { getSearhMovies } from 'services/fetch-api';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchMovie, setSearchMovie] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    getSearhMovies(query)\n      .then(res => {\n        setSearchMovie(res.results);\n      })\n      .catch(err => console.error(err));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n\n    setSearchParams({ query: form.elements.input.value });\n    form.reset();\n  };\n\n  return (\n    <main>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"input\" size={30} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {!searchMovie && query === '' && (\n        <p className={css.errorText}>Enter a valid request!</p>\n      )}\n      {searchMovie?.length === 0 && (\n        <p className={css.errorText}>Movies with this name not found!</p>\n      )}\n      {!searchMovie && query && <Loader />}\n      {searchMovie && (\n        <ul className={css.moviesList}>\n          {searchMovie.map(movie => (\n            <LinkSearchMovie\n              key={movie.id}\n              movie={movie}\n              stateFromLoc={{ from: location }}\n            />\n          ))}\n        </ul>\n      )}\n    </main>\n  );\n};\n\nexport default Movies;\n","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0NzlkMmVhMzEzMDU1ZDM2NzQ0ZTgxZGZiMTA3MDIwNSIsIm5iZiI6MTY2OTc0ODE3MC41MTgwMDAxLCJzdWIiOiI2Mzg2NTVjYWZiODM0NjAwODQ0MWRhY2YiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.48jU2cMOFeBS5uPo443RNVqS-YFq-LmlXD8cmjU4wWw',\n  },\n};\n\nexport const fetchFaforiteMovies = () => {\n  return fetch(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n    options\n  ).then(res => res.json());\n};\n\nexport const getMovieById = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  ).then(res => res.json());\n};\n\nexport const getMovieCast = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  ).then(res => res.json());\n};\n\nexport const getMovieReviews = movieId => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  ).then(res => res.json());\n};\n\nexport const getSearhMovies = searchMovie => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${searchMovie}&include_adult=false&language=en-US&page=1`,\n    options\n  ).then(res => res.json());\n};\n"],"names":["LinkSearchMovie","_ref","movie","stateFromLoc","_jsx","className","css","children","Link","to","concat","id","state","original_title","_useState","useState","_useState2","_slicedToArray","searchMovie","setSearchMovie","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","location","useLocation","useEffect","getSearhMovies","then","res","results","catch","err","console","error","_jsxs","onSubmit","e","preventDefault","form","currentTarget","elements","input","value","reset","type","name","size","length","Loader","map","from","options","method","headers","accept","Authorization","fetchFaforiteMovies","fetch","json","getMovieById","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}